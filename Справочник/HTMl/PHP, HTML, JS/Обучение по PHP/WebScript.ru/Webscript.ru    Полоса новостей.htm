<html><script language="JavaScript" type="text/javascript"> window.onerror=new Function("return true;"); </script><HEAD><TITLE>Webscript.ru :: веб программирование для всех.</TITLE>
<META http-equiv=Content-Type content="text/html; charset=windows-1251">
<META http-equiv=Content-Language content=ru>
<META content="Hands v. 2.0" name=generator>
<META content="Каталог скриптов (PHP &amp; Perl), хостинг, бесплатные скрипты, Форумы, счетчики, поиск, голосования, гостевые книги, новости, чаты, статистика, ссылки, возвратные формы, перл, цги, perl,php,php3,mysql, webmaster, вебмастер, free" name=keywords>
<META content="Каталог скриптов (PHP &amp; Perl). Аналитические статьи. Новости для вебмастеров. Большой форум. Аукцион. Бесплатные скрипты." name=description><LINK href="Webscript.ru    Полоса новостей-Dateien\csblank.gif" rel=stylesheet>

</HEAD>
<BODY text=#000000 bgColor=#cccccc leftMargin=0 topMargin=0 marginheight="0" marginwidth="0">
<TABLE cellSpacing=0 cellPadding=0 width="100%" bgColor=black border=0>
<TBODY>
<TR>
<TD width=278><A href="http://www.webscript.ru"><IMG height=55 alt=WebScript.Ru hspace=5 src="Webscript.ru    Полоса новостей-Dateien\logo.gif" width=268 vspace=15 border=0></A></TD><!-- Ушки -->
<TD><IMG height=1 alt="" src="Webscript.ru    Полоса новостей-Dateien\p.gif" width=15></TD>
<TD align=left width=510 background="Webscript.ru    Полоса новостей-Dateien\bg1.gif"><IFRAME id=a1af6a68 name=a1af6a68 frameSpacing=0 src="Webscript.ru    Полоса новостей-Dateien\adframe.php.htm" frameBorder=no width=468 scrolling=no height=60><a href='http://base.webscript.ru/adclick.php?n=a1af6a68' target='_blank'><img src="Webscript.ru    Полоса новостей-Dateien\robox.gif" border='0' alt=''></a></IFRAME></TD>
<TD><IMG height=1 alt="" src="Webscript.ru    Полоса новостей-Dateien\p.gif" width=2>
<TD width=1 bgColor=white><IMG height=1 alt="" src="Webscript.ru    Полоса новостей-Dateien\p.gif" width=1></TD>
<TD width="99%" bgColor=#555555></TD></TR></TBODY></TABLE><!-- Таблица с меню -->
<TABLE cellSpacing=0 cellPadding=0 width="100%" bgColor=#dddddd border=0>
<TBODY>
<TR>
<TD><IMG height=2 alt="" src="Webscript.ru    Полоса новостей-Dateien\p.gif" width=1></TD></TR></TBODY></TABLE>
<TABLE cellSpacing=0 cellPadding=2 width="100%" bgColor=black border=0>
<TBODY>
<TR>
<TD class=mnu><FONT color=red>C:\&nbsp; <A class=mnu href="http://www.webscript.ru/">&nbsp;главная&nbsp;</A> :: <A class=mnu href="http://www.webscript.ru/pages.php3?page=О+сайте">&nbsp; о сайте&nbsp;</A> :: <A class=mnu href="http://www.webscript.ru/scripts">&nbsp;каталог скриптов&nbsp;</A> :: <A class=mnu href="http://gnezdo.webscript.ru/">&nbsp;гнездо&nbsp;</A> :: <A class=mnu href="http://hostobzor.webscript.ru/">&nbsp;хостОбзор&nbsp;</A> :: <A class=mnu href="http://forums.webscript.ru">&nbsp;форум&nbsp;</A> :: <A class=mnu href="http://www.webscript.ru/pages.php3?page=Авторам">&nbsp; авторам&nbsp;</A> :: <A class=mnu title="Реклама на Webscript.ru" href="http://webscript.ru/stat/click.php?http://www.webscript.ru/pages.php3?page=Advertisment">Реклама </A>:: <A class=mnu title="Виртуальные выделенные сервера от 4.95$" href="http://webscript.ru/click/fclick.php?fid=1">&nbsp; ХОСТИНГ&nbsp;</A> :: </FONT></TD></TR></TBODY></TABLE>
<TABLE cellSpacing=0 cellPadding=0 width="100%" bgColor=#999999 border=0>
<TBODY>
<TR>
<TD><IMG height=2 alt="" src="Webscript.ru    Полоса новостей-Dateien\p.gif" width=1></TD></TR></TBODY></TABLE><!-- Главная таблица -->
<TABLE cellSpacing=0 cellPadding=0 width=760 bgColor=white border=0>
<TBODY>
<TR><!-- Колонка слева -->
<TD vAlign=top width=200 bgColor=#f0f0f0><IMG height=7 alt="" src="Webscript.ru    Полоса новостей-Dateien\p.gif" width=200><BR><!-- Разделы -->
<TABLE cellSpacing=0 cellPadding=0 width=200 bgColor=#cccccc border=0>
<TBODY>
<TR>
<TD class=mnu vAlign=top background="Webscript.ru    Полоса новостей-Dateien\bg5.gif"><IMG height=14 alt="" src="Webscript.ru    Полоса новостей-Dateien\a1.gif" width=20 align=left border=0> || разделы::</TD></TR>
<TR>
<TD width=200 background="Webscript.ru    Полоса новостей-Dateien\bg2.gif" bgColor=white>
<DIV class=maintext><B>:: <A href="http://www.webscript.ru/stories.php3?topic=2">новости сайта</A><BR>:: <A href="http://www.webscript.ru/stories.php3?topic=3">новости Perl</A><BR>:: <A href="http://www.webscript.ru/stories.php3?topic=5">статьи по Perl</A><BR>:: <A href="http://www.webscript.ru/stories.php3?topic=4">новости PHP</A><BR>:: <A href="http://www.webscript.ru/stories.php3?topic=6">статьи по PHP</A><BR>:: <A href="http://www.webscript.ru/stories.php3?topic=7">веб-технологии</A><BR>:: <A href="http://www.webscript.ru/stories.php3?topic=8">публикации</A><BR>
<HR>
:: <A href="http://www.webscript.ru/sanitarium">Sanitarium WebLoG</A><BR>:: <A href="http://www.webscript.ru/mp">MobilePublisherPHP</A><BR></B></DIV></TD></TR></TBODY></TABLE><!-- Новости -->
<TABLE cellSpacing=0 cellPadding=0 width=200 bgColor=#cccccc border=0>
<TBODY>
<TR>
<TD class=mnu vAlign=top background="Webscript.ru    Полоса новостей-Dateien\bg5.gif"><IMG height=14 alt="" src="Webscript.ru    Полоса новостей-Dateien\a1.gif" width=20 align=left border=0> || новости почтой::</TD></TR>
<TR>
<TD width=200 bgColor=white>
<DIV class=verd>
<FORM action=http://subscribe.ru/member/quick method=get target=_top><INPUT type=hidden value=quick name=action> <B>Рассылки <A href="http://subscribe.ru/">Subscribe.Ru</A> ::</B><BR><BR><INPUT class=frm maxLength=100 size=15 value="ваш e-mail" name=email> <INPUT class=frm type=submit value=Ok><BR><BR><INPUT class=frm type=checkbox CHECKED value=inet.webbuild.webscript name=grp> Новости сайта WebScript.Ru </FORM></DIV></TD></TR></TBODY></TABLE><!-- поиск -->
<TABLE cellSpacing=0 cellPadding=0 width=200 bgColor=#cccccc border=0>
<TBODY>
<TR>
<TD class=mnu vAlign=top background="Webscript.ru    Полоса новостей-Dateien\bg5.gif"><IMG height=14 alt="" src="Webscript.ru    Полоса новостей-Dateien\a1.gif" width=20 align=left border=0> || поиск по сайту::</TD></TR>
<TR>
<TD width=200 bgColor=white>
<DIV class=verd align=right>
<FORM action=http://www.webscript.ru/search.php3 method=get><B>Искать</B>:<INPUT class=frm maxLength=35 size=18 name=query><BR><B>где :</B> <SELECT class=frm name=topic> <OPTION value=0 selected>Все разделы</OPTION> <OPTION value=3>Новости Perl</OPTION> <OPTION value=2>Новости сайта</OPTION> <OPTION value=4>Новости PHP</OPTION> <OPTION value=5>Статьи по Perl</OPTION> <OPTION value=6>Статьи по PHP</OPTION> <OPTION value=7>Веб-технологии</OPTION> <OPTION value=8>Публикации</OPTION></SELECT><BR>статьи <INPUT type=radio CHECKED value=stories name=what><BR>комментарии <INPUT type=radio value=comments name=what><BR><BR>Результатов: <SELECT class=frm name=limit> <OPTION value=10>10</OPTION> <OPTION value=20>20</OPTION> <OPTION value=30 selected>30</OPTION> <OPTION value=40>40</OPTION> <OPTION value=50>50</OPTION></SELECT> <INPUT class=frm type=submit value=" Ok "> </FORM><BR></DIV></TD></TR></TBODY></TABLE><!-- begin blocks column (l) //--><!-- BLOCK START default -->
<TABLE cellSpacing=0 cellPadding=0 width=200 bgColor=#cccccc border=0>
<TBODY>
<TR>
<TD class=mnu vAlign=top background="Webscript.ru    Полоса новостей-Dateien\csblank.gif"><IMG height=14 alt="" src="Webscript.ru    Полоса новостей-Dateien\csblank.gif" width=20 align=left border=0>|| Nавигатор</TD></TR>
<TR>
<TD width=200 bgColor=#f5f5f5>


<UL>
<LI><A href="http://forums.webscript.ru/showthread.php?s=&threadid=15178">MySQL 5 beta</A>
<LI><A href="http://forums.webscript.ru/showthread.php?s=&threadid=15144">[bug] IE bug, позволяющий подменить URL in Location</A>
<LI><A href="http://forums.webscript.ru/showthread.php?s=&threadid=14237">[site] кУ/Роводство и проверка орфографии</A>
<LI><A href="http://forums.webscript.ru/showthread.php?s=&threadid=14177">[news] Mozilla 1.5 out (остальные из семейства - тоже)</A>
<LI><A href="http://forums.webscript.ru/showthread.php?s=&threadid=14070">[fun] Google крут! :)</A>
<LI><A href="http://forums.webscript.ru/showthread.php?s=&threadid=13692&msgnum=0">[news] разные новости </A>
<LI><A href="http://forums.webscript.ru/showthread.php?s=&threadid=13514">[news] Протест против патентов на ПО в Европе</A>
<LI><A href="http://forums.webscript.ru/showthread.php?s=&threadid=13344">[soft] PHP " " Mozilla "-" Web server ! :)</A>
<LI><A href="http://forums.webscript.ru/showthread.php?s=&threadid=13033">Вышел Win2k SP4 (ru)!</A>
<LI><A href="http://forums.webscript.ru/showthread.php?s=&threadid=12804&msgnum=0">[soft] OpenGroupware - Свершилось! Альтернатива MS Exchange</A></LI></UL><BR><BR></TD></TR></TBODY></TABLE><!-- BLOCK END --><!-- BLOCK START default -->
<TABLE cellSpacing=0 cellPadding=0 width=200 bgColor=#cccccc border=0>
<TBODY>
<TR>
<TD class=mnu vAlign=top background="http://www.webscript.ru/stories/01/10/12/img/bg5.gif"><IMG height=14 alt="" src="http://www.webscript.ru/stories/01/10/12/img/a1.gif" width=20 align=left border=0>Популярные статьи</TD></TR>
<TR>
<TD width=200 bgColor=#f5f5f5>
<UL>
<LI><A href="http://www.webscript.ru/stories/01/05/31/4704330">Введение в PHP</A> (28) 
<LI><A href="http://www.webscript.ru/stories/01/06/06/8148134">Форум, работающий с базой данных MySQL</A> (29) 
<LI><A href="http://www.webscript.ru/stories/01/06/18/2730108">Аутентификация пользователей через Веб-интерфейс</A> (22) 
<LI><A href="http://www.webscript.ru/stories/01/06/08/4295014">Отправка писем через PHP</A> (53) 
<LI><A href="http://www.webscript.ru/stories/02/05/06/5105096">Гостевая книга на PHP/MySQL</A> (17) </LI></UL><BR></TD></TR></TBODY></TABLE><!-- BLOCK END --><!-- end blocks column (l) //--><!-- кнопки -->
<TABLE cellSpacing=0 cellPadding=0 width=200 bgColor=#cccccc border=0>
<TBODY>
<TR>
<TD class=mnu vAlign=top background="Webscript.ru    Полоса новостей-Dateien\bg5.gif"><IMG height=14 alt="" src="Webscript.ru    Полоса новостей-Dateien\a1.gif" width=20 align=left border=0> || рекомендуем::</TD></TR>
<TR>
<TD width=200 bgColor=white>
<DIV align=center>
<CENTER><BR><A href="http://ricn.ru/"><IMG height=31 alt="Здесь живет Моська Рунета !" src="Webscript.ru    Полоса новостей-Dateien\88moska2.gif" width=88 border=0></A> <A href="http://www.proge.ru/"><IMG height=31 alt="Библиотека программиста" src="Webscript.ru    Полоса новостей-Dateien\prog.gif" width=88 border=0></A> <BR><A href="http://www.searchengines.ru/"><IMG height=31 alt="Поисковые системы, оптимизация и раскрутка сайта" src="Webscript.ru    Полоса новостей-Dateien\se31.gif" width=88 border=0></A> </A><BR><A href="http://www.21vek.ru/web/notebook.jsp">Ноутбуки 21Века</A> </CENTER></DIV></TD></TR></TBODY></TABLE>
<TABLE cellSpacing=0 cellPadding=0 width="100%" bgColor=black border=0>
<TBODY>
<TR>
<TD><IMG height=1 alt="" src="Webscript.ru    Полоса новостей-Dateien\p.gif" width=1></TD></TR></TBODY></TABLE><BR><BR><!-- Правая колонка --></TD>
<TD width=1 bgColor=black><IMG height=1 alt="" src="Webscript.ru    Полоса новостей-Dateien\p.gif" width=1></TD>
<TD vAlign=top width=560><!-- Баннер --><BR>
<BLOCKQUOTE>



<A href="http://base.webscript.ru/adclick.php?bannerid=73&zoneid=3&source=&dest=http://www.books.ru/shop/books/19756?partner=nas" target=_blank><B>[Apache для профессионалов]</B><BR>Эта книга предназначена для тех, кто хочет максимально эффективно использовать возможности web-сервера Apache. В книге представлен отсутствующий в документации уникальный материал, полученный автором при анализе исходного программного текста продукта и по мере приобретения опыта. </A>
<DIV id=beacon_73 style="LEFT: 0px; VISIBILITY: hidden; POSITION: absolute; TOP: 0px"><IMG style="WIDTH: 0px; HEIGHT: 0px" height=0 alt="" src="Webscript.ru    Полоса новостей-Dateien\adlog.php.gif" width=0></DIV><NOSCRIPT><a href='http://base.webscript.ru/adclick.php?n=aed8abce'><img src="Webscript.ru    Полоса новостей-Dateien\adview.php.gif" border='0' alt=''></a></NOSCRIPT></BLOCKQUOTE><!-- STORY START default --><!-- Блок с анонсом -->
<TABLE cellSpacing=0 cellPadding=20 width=560 bgColor=white border=0>
<TBODY>
<TR>
<TD>
<H1>Полоса новостей на php с использованием javascript и слоев.</H1><BR>
<DIV align=right><SMALL>Прислал: <B><SPAN class=author><A href="http://www.webscript.ru/profiles.php3?Author=Тотоев+Александр&AuthorEmail=gbgbriny@zgh-arg.eh&AuthorURL=http://www.czar.ru">Тотоев Александр</A></SPAN></B> [ 12.10.2001 @ 14:21 ]<BR>Раздел:: [ <B><A href="http://www.webscript.ru/stories.php3?topic=6">Статьи по PHP</A></B> ]</SMALL><BR></DIV><BR><PRE>
<B>Добрый день!</B>

Решил написать статью о программировании на php на примере экспорта новостей с
сайта <A href="http://www.gazeta.ru" target=_blank>http://www.gazeta.ru</A>. Но не в том виде, который они предлагают,
а по-своему, компактно и интересно.
Такой пример вы можете увидеть на страницах сайтов <A href="http://www.czar.ru">http://www.czar.ru</A>
или же <A href="http://www.russianjudo.ru/judonews.php">http://www.russianjudo.ru</A>.
Если вместо новостей пусто или сообщение об ошибке (зависит от настроек сервера),
это значит, что сервер gazeta.ru сильно занят и не может обслужить всех желающих
получить новости. Можно конечно брать новости и с других серверов, но так как мы
рассматриваем реально работающий пример программирования, то будем работать с ним.

Как же создать такую новостную полосу? Все довольно просто.
Заходим на сайт и находим пункт "экспорт новостей".
<A href="http://www.gazeta.ru/explogin.html" target=_blank>http://www.gazeta.ru/explogin.html</A>
Там нам предлагают экспортировать на свой сайт новостную полосу с их ресурса.
Мы радуемся и регистрируемся. Все абсолютно бесплатно и, главное, стабильно.
Например (реальная регистрация, можете зайти и проверить, а также, можете там
изменять рубрики, получаемые нами в новостной полосе), ввели имя news_list,
пароль qwer мейл - ваш (реально, в этом примере - мой), адрес сайта любой,
например - citforum.ru.
Затем понадобится только лишь имя и пароль.
Теперь заходим и смотрим, чтоже они нам предлагают.
С удовольствием отмечаем довольно широкий спектр новостей.
<OL>
<LI>Первая полоса
<LI>Полоса политики
<LI>Полоса бизнеса
<LI>Полоса культуры
<LI>Полоса спорта
<LI>Автомобильные новости
<LI>Бизнес новости
<LI>Спортивные новости
<LI>Новостная лента
<LI>Полоса International
<LI>News in English
<LI>Полоса общества
<LI>Полоса финансов
<LI>Полоса автомобилей
<LI>Новость часа
<LI>Молния
</LI></OL>
Выбираем интересное и устанавливаем количество новостей в каждой рубрике.

Ниже выбираем кодировку новостей. Она должна совпадать с кодировкой вашего
сайта. Например - win1251.

Затем выбираем вид новостей (с датой, с временем и без них).
Проще выбрать пустую новость. Хотя программа будет работать в любом случае.

Верх и низ новостей оформлять не нужно.

Получаем строку, которую надо запомнить: &lt;script language="javascript"
src="http://www.gazeta.ru/cgi-bin/export/export.cgi?id=2743"&gt;&lt;/script&gt;

Из нее извлекаем полезное:
Адрес cgi-скрипта, который и формирует наши новости на gazeta.ru.
Этот адрес:
<A href="http://www.gazeta.ru/cgi-bin/export/export.cgi?id=2743" target=_blank>http://www.gazeta.ru/cgi-bin/export/export.cgi?id=2743</A>

Таким образом, мы имеем страницу, с которой нам надо изъять код ссылок на новости
gazeta.ru к себе.
Она имеет приблизительно такой вид:
var news="";
news+="&lt;a href=\"http://www.gazeta.ru/2001/10/07/400dnejsborn.shtml\"&gt;текст1&lt;/a&gt;&lt;br&gt;";
news+="&lt;a href=\"http://www.gazeta.ru/2001/10/08/last32746.shtml\"&gt;текст2&lt;/a&gt;&lt;br&gt;";
document.write(news);
<B>Нам надо:</B>
<OL>
<LI>найти строки со ссылками
<LI>убрать в них \ и лишние ";
<LI>добавить еще один &lt;br&gt;
<LI>добавить открытие ссылки в новом окне и вызов функции javascript
(target=_blank <B>onMouseOver</B>=<B>clearTimeout</B>(timeOut) <B>onMouseOut</B>=<B>init</B>())
</LI></OL>
Чтобы получить из всего этого:
&lt;a href="http://www.gazeta.ru/2001/10/07/400dnejsborn.shtml" target=_blank
<B>onMouseOver</B>=<B>clearTimeout</B>(timeOut) <B>onMouseOut</B>=<B>init</B>()&gt;текст1&lt;/a&gt;&lt;br&gt;&lt;br&gt;
&lt;a href="http://www.gazeta.ru/2001/10/08/last32746.shtml" target=_blank
<B>onMouseOver</B>=<B>clearTimeout</B>(timeOut) <B>onMouseOut</B>=<B>init</B>()&gt;текст2&lt;/a&gt;&lt;br&gt;&lt;br&gt;

<B>Задачи поставлены.</B>

<B>Код программы создания блока новостей.</B>

Вот код программы с комментариями и пояснениями, которая создает массив новостей.
&lt;? // начинаем работать
$adr='http://www.gazeta.ru/cgi-bin/export/export.cgi?id=1372'; //адрес пациента
$begin='&lt;a href'; // слово, по которому будем искать начало ссылки
$end='&lt;br&gt;"'.<B>chr</B>(59); //слово конца ссылки
$end_new='&lt;br&gt;&lt;br&gt;'; //новый конец новости (в своем варианте мы сделаем
//больше разрыв между новостями, чтобы они читались раздельно)
$noscript='"&gt;'; // конец ссылки a href без скрипта и таргета
$script='" target="_blank" <B>onMouseOver</B>=<B>clearTimeout</B>(timeOut) <B>onMouseOut</B>=<B>init</B>()&gt;';
// конец ссылки с таргетом и вызовом ява-скрипта
$screen=file($adr); // читаем страницу новостей - оригинал
$j=0; // количество новостей
<B>for</B> ($i=0; $i&lt;<B>sizeof</B>($screen); $i++) { // отслеживаем строки страницы
<B>if</B> (<B>strpos</B>($screen[$i],$begin,0)==<B>false</B>) {
// есть ли ссылка на новость в строке?
// определяем по наличию в строке слова начала ссылки $begin
// если нет новости в строке
}
<B>else</B> { // если все-же есть новость в строке.
$screen[$i]=<B>stripslashes</B>(screen[$i]);
// заменяем \" на "
$str=<B>explode</B>($begin,$screen[$i]);
// разбиваем строку на массив подстрок
// разбитие производим словом начала ссылки.
// Первым элементом массива получим ссылку + то, что после нее.
$str[1]=$begin.$str[1];
// Возвращаем ссылке ее начало (слово, которым разбивали строку)
$scr[$j]=<B>str_replace</B>($end,$end_new,$str[1]);
// заменяем конец строки новости
$scr[$j]=<B>str_replace</B>($noscript,$script,$scr[$j]);
// добавляем в ссылку таргет и вызов ява-скрипта
<B>echo</B> $scr[$j];
// выводим ссылку на экран.
$j++; // плюсуем единичку к счетчику новостей
}
}
?&gt; // конец программы создания массива новостей.

Итак, имеем код программы, которая создает слой, который двигается снизу вверх
посредством ява-скрипта.

Ява-скрипт представляет собой программу, протаскивающую блок с новостями в слое
с выбираемыми вами размерами и положением.
Программа работает и в IE4+ и в NN.


<B>Теперь о ява-скрипте и встраивании в страницу.</B>



&lt;html&gt;
&lt;head&gt;
&lt;link rel=stylesheet href=scroll.css&gt;
&lt;script language=javascript&gt;
&lt;!--
startFrom=70;
//Начальное положение блока новостей (по вертикали) - нижняя отметка
currentY=startFrom; //Текущее положение блока новостей (по вертикали)
wait=300; //Задержка движения блока, миллисекунды
timeOut=null; //Временная переменная
//Перемещение блока
<B>function</B> <B>moveUp</B>()
{
currentY-=3; //Уменьшаем счетчик
<B>if</B>(currentY&lt;minY)currentY=startFrom;
//Если дошли до минимальной отметки - нужно сдвинуть слой обратно
<B>eval</B>(objScroll+stylePrefix+'.top='+currentY);
//А теперь сдвигаем слой туда, куда указывает счетчик
timeOut=<B>setTimeout</B>("moveUp()",wait);
//И через wait секунд снова вызываем moveUp()

}
//Инициализация
<B>function</B> <B>init</B>(){
//Определяем тип браузера
var ie=(navigator.appName=="Microsoft Internet Explorer")?1:0;
var nn=(navigator.appName=="Netscape")?1:0;
//В зависимости от типа браузера, определяем переменные:
//objScroll - слой, который нужно двигать
//stylePrefix - имя свойства, ссылающегося на стили объекта
//minY - минимальная отметка, до которой можно сдвигать слой
<B>if</B>(ie){	objScroll='document.all.dScroll';
stylePrefix='.style';
minY=<B>-eval</B>(objScroll+'.offsetHeight');
}
<B>if</B>(nn){
objScroll='document.layers.dBox.document.layers.dWindow.document.layers.dScroll';
stylePrefix='';
minY=<B>-eval</B>(objScroll+'.clip.height');
}
<B>moveUp</B>(); //начинаем сдвигать слой

}//--&gt;
&lt;/script&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;table width="240" height="60" align="center" border=0 cellpadding=0 cellspacing=0&gt;
&lt;tr&gt;
&lt;td valign=top width=240 height=60 bgcolor=#ffffff&gt;
&lt;div id=dBox&gt;&lt;div id=dWindow&gt;&lt;div id=dScroll&gt;
&lt;!-- Здесь собственно должен быть текст блока.... --&gt;
&lt;!-- И внизу строка, которая и вставляет блок. --&gt;
&lt;!-- Вышеописанная программа на php должна находиться в этом файле news.php --&gt;
&lt;!--#include virtual="http://www.webscript.ru/stories/01/10/12/news.php"  --&gt;
&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;script language="Javascript"&gt;<B>init</B>()&lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;


Как видим, мы пользуемся слоями. Есть слои, на которых размещен слой с текстом
новостей. Последний слой мы прокручиваем снизу вверх. Выставляем скорость
движения задержкой движения wait. При поднесении мышки к ссылке, движение
прекращается до того, пока мышка не сойдет со ссылки.

<B>А вот как надо описать слои в файле scroll.css, на который стоит ссылка</B>
&lt;link rel=stylesheet href=scroll.css&gt;

#dBox{
<B>position</B>:relative;
//Считаем лефт и топ от левого верхнего угла объекта,
//внутри которого находится слой
<B>z-index</B>:240; //Побольше, чтоб не перекрыло другими элементами страницы
<B>top</B>:0;left:0; //Отступы сверху и слева
<B>width</B>:240px;height:60px; //Ширина и высота
}
#dWindow{
<B>position</B>:absolute;
//Поскольку слой в слое, то считается от верхнего левого угла dBox
<B>z-index</B>:240; //Такой же, как у dBox
<B>top</B>:0;left:0; //Отступы сверху и слева
<B>clip</B>:rect(0,240,60,0);
//Определяем слой как прямоугольник шириной 240 и высотой 60
}
#dScroll{
<B>position</B>:absolute; //То же, что и с dWindow
<B>z-index</B>:238;  //"Прячем" слой за dBox'ом
<B>top</B>:60;left:2; //Сразу сдвигаем на нужное расстояние вниз
<B>width</B>:238px;height:60px; //Ширина и высота
<B>visibility</B>:visible; //Видимый слой
<B>text-align</B>:left; //Текст выровнен по левому краю слоя
<B>font-family</B>:arial,helvetica,sans-serif; font-size:11px; color:#000000;
//Стили для текста
}

Прошу не забыть и удалить комментарии в тексте описания слоев.
Иначе работать не будет.

А лучше, приведу текст без комментариев (именно его копируйте и редактируйте):
#dBox{position:relative; z-index:240; top:0;left:0; width:240px;height:60px;}
#dWindow{position:absolute; z-index:240; top:0;left:0; clip:rect(0,240,60,0);}
#dScroll{position:absolute; z-index:238; top:60;left:2; width:238px;height:60px;
visibility:visible; text-align:left; font-family:arial,helvetica,sans-serif;
font-size:11px; color:#000000;}



Чуть ниже в коде страницы вставляем запуск ява-скрипта, который прокручивает
наши новости по слою снизу вверх:

&lt;script language="Javascript"&gt;<B>init</B>()&lt;/script&gt;

Обычно этот вызов ставят в конце страницы или даже по событию onload,
но можно делать это и раньше, что вам и советую.

Таким образом, оперируя с координатами слоев, можно выставить нужное его
положение, размеры. А выставляя скорость, можно заставить посетителей
читать новости с желаемой скоростью.

Вариант, когда новости выводятся на нашем сайте я опубликую в следующей статье.


Тотоев Александр
<A href="http://www.czar.ru">www.czar.ru</A>
<A href="http://www.nova-wings.ru">www.nova-wings.ru</A>
<A href="http://www.russianjudo.ru">www.russianjudo.ru</A>

Корхова Ольга
(автор кода ява-скрипта движения слоя)
<A href="http://www.chtpz.ru">www.chtpz.ru</A>


</PRE><BR><BR>
<DIV align=right><SMALL><B>[ <A href="http://www.webscript.ru/print/01/10/12/2062881" target=_blank>Распечатать</A> ]::[ <A href="http://www.webscript.ru/friend/01/10/12/2062881">Переслать</A> ]::[ <A href="http://forums.webscript.ru">Обсудить</A> ]</B></SMALL></DIV>
<DIV></DIV><BR>
<DIV align=right><SMALL><B></B></SMALL></DIV></TD></TR></TBODY></TABLE><!-- STORY END -->
<DIV class=maintext align=right><B><U></U></B></DIV><!-- COMMENT START default -->
<TABLE cellSpacing=0 cellPadding=2 width="100%" border=0>
<TBODY>
<TR>
<TD class=mnu bgColor=#bbbbbb>&nbsp;:::::&nbsp;&nbsp;<A href=""><A href="http://www.webscript.ru/profiles.php3?Author=Дима&AuthorEmail=дима@дима&AuthorURL=-----">Дима</A></A> пишет 24.10.2001 @ 15:18</TD>
<TD class=verd align=right width=150 bgColor=#f0f0f0>&nbsp;</TD></TR></TBODY></TABLE>
<TABLE cellSpacing=10 cellPadding=0 width="100%" bgColor=white border=0>
<TBODY>
<TR>
<TD>
<DIV class=txt31 align=justify>Посмотрите,<BR>например для <A href="http://www.czar.ru" target=_blank>http://www.czar.ru</A><BR>в броузере Netscape<BR>- при подведении мышки к ссылке в слое!<BR><BR>Надо же хоть чуть-чуть отрабатывать<BR>реакции других броузеров...<BR><BR><BR></DIV></TD></TR></TBODY></TABLE>
<TABLE cellSpacing=0 cellPadding=0 width="100%" bgColor=black border=0>
<TBODY>
<TR>
<TD><IMG height=1 alt="" src="Webscript.ru    Полоса новостей-Dateien\csblank.gif" width=1></TD></TR></TBODY></TABLE><!-- COMMENT END --><!-- COMMENT START default -->
<TABLE cellSpacing=0 cellPadding=2 width="100%" border=0>
<TBODY>
<TR>
<TD class=mnu bgColor=#bbbbbb>&nbsp;:::::&nbsp;&nbsp;<A href=""><A href="http://www.webscript.ru/profiles.php3?Author=Alexandr&AuthorEmail=gbgbriny@zgh-arg.eh&AuthorURL=">Alexandr</A></A> пишет 24.10.2001 @ 15:22</TD>
<TD class=verd align=right width=150 bgColor=#f0f0f0>&nbsp;</TD></TR></TBODY></TABLE>
<TABLE cellSpacing=10 cellPadding=0 width="100%" bgColor=white border=0>
<TBODY>
<TR>
<TD>
<DIV class=txt31 align=justify>Бывает.<BR>Вообще, Нетскейп уже не браузер. Не далее как пару месяцев назад перестал быть оным.<BR>А все зависит от заказчика. По спайлогу на сайт с нетскейпом не ходят люди уже 2 года. (год назад было 1,5 процента).<BR>Потому, поддерживаем стандарты, а не производителей.<BR>Надеюсь не обижу, если скажу, что замечая соринку в глазе другого бревна в своем не замечаем<BR><BR></DIV></TD></TR></TBODY></TABLE>
<TABLE cellSpacing=0 cellPadding=0 width="100%" bgColor=black border=0>
<TBODY>
<TR>
<TD><IMG height=1 alt="" src="http://www.webscript.ru/stories/01/10/12/p.gif" width=1></TD></TR></TBODY></TABLE><!-- COMMENT END --><!-- COMMENT START default -->
<TABLE cellSpacing=0 cellPadding=2 width="100%" border=0>
<TBODY>
<TR>
<TD class=mnu bgColor=#bbbbbb>&nbsp;:::::&nbsp;&nbsp;<A href=""><A href="http://www.webscript.ru/profiles.php3?Author=цук&AuthorEmail=fqs@yc.eh&AuthorURL=">цук</A></A> пишет 25.10.2001 @ 10:00</TD>
<TD class=verd align=right width=150 bgColor=#f0f0f0>&nbsp;</TD></TR></TBODY></TABLE>
<TABLE cellSpacing=10 cellPadding=0 width="100%" bgColor=white border=0>
<TBODY>
<TR>
<TD>
<DIV class=txt31 align=justify>Роти<BR></DIV></TD></TR></TBODY></TABLE>
<TABLE cellSpacing=0 cellPadding=0 width="100%" bgColor=black border=0>
<TBODY>
<TR>
<TD><IMG height=1 alt="" src="http://www.webscript.ru/stories/01/10/12/p.gif" width=1></TD></TR></TBODY></TABLE><!-- COMMENT END --><!-- COMMENT START default -->
<TABLE cellSpacing=0 cellPadding=2 width="100%" border=0>
<TBODY>
<TR>
<TD class=mnu bgColor=#bbbbbb>&nbsp;:::::&nbsp;&nbsp;<A href=""><A href="http://www.webscript.ru/profiles.php3?Author=Alex&AuthorEmail=b_g@znvy.eh&AuthorURL=">Alex</A></A> пишет 12.11.2001 @ 10:30</TD>
<TD class=verd align=right width=150 bgColor=#f0f0f0>&nbsp;</TD></TR></TBODY></TABLE>
<TABLE cellSpacing=10 cellPadding=0 width="100%" bgColor=white border=0>
<TBODY>
<TR>
<TD>
<DIV class=txt31 align=justify>Ну а продолжение то где? :(<BR></DIV></TD></TR></TBODY></TABLE>
<TABLE cellSpacing=0 cellPadding=0 width="100%" bgColor=black border=0>
<TBODY>
<TR>
<TD><IMG height=1 alt="" src="http://www.webscript.ru/stories/01/10/12/p.gif" width=1></TD></TR></TBODY></TABLE><!-- COMMENT END --><!-- COMMENT START default -->
<TABLE cellSpacing=0 cellPadding=2 width="100%" border=0>
<TBODY>
<TR>
<TD class=mnu bgColor=#bbbbbb>&nbsp;:::::&nbsp;&nbsp;<A href=""><A href="http://www.webscript.ru/profiles.php3?Author=Alexandr&AuthorEmail=gbgbriny@zgh-arg.eh&AuthorURL=www.czar.ru">Alexandr</A></A> пишет 12.11.2001 @ 14:29</TD>
<TD class=verd align=right width=150 bgColor=#f0f0f0>&nbsp;</TD></TR></TBODY></TABLE>
<TABLE cellSpacing=10 cellPadding=0 width="100%" bgColor=white border=0>
<TBODY>
<TR>
<TD>
<DIV class=txt31 align=justify>А какое именно продолжение Вас интересует?<BR>в каком направлении?<BR></DIV></TD></TR></TBODY></TABLE>
<TABLE cellSpacing=0 cellPadding=0 width="100%" bgColor=black border=0>
<TBODY>
<TR>
<TD><IMG height=1 alt="" src="http://www.webscript.ru/stories/01/10/12/p.gif" width=1></TD></TR></TBODY></TABLE><!-- COMMENT END --><!-- COMMENT START default -->
<TABLE cellSpacing=0 cellPadding=2 width="100%" border=0>
<TBODY>
<TR>
<TD class=mnu bgColor=#bbbbbb>&nbsp;:::::&nbsp;&nbsp;<A href=""><A href="http://www.webscript.ru/profiles.php3?Author=Alex&AuthorEmail=&AuthorURL=">Alex</A></A> пишет 25.11.2001 @ 15:14</TD>
<TD class=verd align=right width=150 bgColor=#f0f0f0>&nbsp;</TD></TR></TBODY></TABLE>
<TABLE cellSpacing=10 cellPadding=0 width="100%" bgColor=white border=0>
<TBODY>
<TR>
<TD>
<DIV class=txt31 align=justify>"Вариант, когда новости выводятся на нашем сайте я опубликую в следующей статье"<BR><BR>Собсно этого и жду... :)<BR></DIV></TD></TR></TBODY></TABLE>
<TABLE cellSpacing=0 cellPadding=0 width="100%" bgColor=black border=0>
<TBODY>
<TR>
<TD><IMG height=1 alt="" src="http://www.webscript.ru/stories/01/10/12/p.gif" width=1></TD></TR></TBODY></TABLE><!-- COMMENT END --><!-- COMMENT START default -->
<TABLE cellSpacing=0 cellPadding=2 width="100%" border=0>
<TBODY>
<TR>
<TD class=mnu bgColor=#bbbbbb>&nbsp;:::::&nbsp;&nbsp;<A href=""><A href="http://www.webscript.ru/profiles.php3?Author=Vladimir&AuthorEmail=nysrebi(abfcnz)oneanhy.eh&AuthorURL=">Vladimir</A></A> пишет 30.12.2003 @ 05:44</TD>
<TD class=verd align=right width=150 bgColor=#f0f0f0>&nbsp;</TD></TR></TBODY></TABLE>
<TABLE cellSpacing=10 cellPadding=0 width="100%" bgColor=white border=0>
<TBODY>
<TR>
<TD>
<DIV class=txt31 align=justify>Дык, не работает он...<BR>И не понятно что означает...<BR>---<BR><BR>&lt;!-- Здесь собственно должен быть текст блока.... --&gt;<BR>&lt;!-- И внизу строка, которая и вставляет блок. --&gt;<BR><BR>---<BR></DIV></TD></TR></TBODY></TABLE>
<TABLE cellSpacing=0 cellPadding=0 width="100%" bgColor=black border=0>
<TBODY>
<TR>
<TD><IMG height=1 alt="" src="http://www.webscript.ru/stories/01/10/12/p.gif" width=1></TD></TR></TBODY></TABLE><!-- COMMENT END --><!-- COMMENT START default -->
<TABLE cellSpacing=0 cellPadding=2 width="100%" border=0>
<TBODY>
<TR>
<TD class=mnu bgColor=#bbbbbb>&nbsp;:::::&nbsp;&nbsp;<A href=""><A href="http://www.webscript.ru/profiles.php3?Author=Alexandr&AuthorEmail=gbgbriny@zgh-arg.eh&AuthorURL=http://nova-wings.ru/">Alexandr</A></A> пишет 30.12.2003 @ 11:04</TD>
<TD class=verd align=right width=150 bgColor=#f0f0f0>&nbsp;</TD></TR></TBODY></TABLE>
<TABLE cellSpacing=10 cellPadding=0 width="100%" bgColor=white border=0>
<TBODY>
<TR>
<TD>
<DIV class=txt31 align=justify>Ну так что же вы хотели?<BR>Статья написана 3 года назад с лишним!<BR>Код источника изменялся.<BR>Если вы до сих пор хотите готовый код, то грош вам цена.<BR>Если вы хотите научиться, читайте статью, там указаны настройки.<BR>Настраивайте программу и все заработает.<BR>Во всяком случае, до сих пор получаю письма с благодарностями.<BR>А еслим у вас что-то не получается, так ищите ошибку у себя, а не в статье, написанной 3 года назад. За три года проблемы у людей возникали только конструктивные, а не типа "У тебя в статье не правильная программа". Значит проблема не в программе, а в вас. Поищите ошибку сами.<BR></DIV></TD></TR></TBODY></TABLE>
<TABLE cellSpacing=0 cellPadding=0 width="100%" bgColor=black border=0>
<TBODY>
<TR>
<TD><IMG height=1 alt="" src="http://www.webscript.ru/stories/01/10/12/p.gif" width=1></TD></TR></TBODY></TABLE><!-- COMMENT END --><!-- MAIN START default -->
<TABLE cellSpacing=10 cellPadding=0 width="100%" bgColor=#f0f0f0 background="Webscript.ru    Полоса новостей-Dateien\bg6.gif" border=0>
<TBODY>
<TR>
<TD class=mnu align=right background=""><A name=comments></A>
<FORM name=Com onsubmit="return validateComment()" action=http://www.webscript.ru/submit.php3 method=post>Имя: <INPUT class=frm maxLength=32 size=32 name=Author><BR>Email: <INPUT class=frm maxLength=96 size=32 name=AuthorEmail><BR>URL<INPUT class=frm maxLength=96 size=32 name=AuthorURL><BR>Запомнить мою информацию<INPUT type=checkbox name=save> <BR><TEXTAREA class=frm style="WIDTH: 100%" name=Content rows=10 wrap=physical cols=50></TEXTAREA><BR>* Html запрещен* Ваш E-mail опубликован не будет.<INPUT type=hidden value=comment name=what> <INPUT type=hidden value=01/10/12/2062881 name=ParentRid> <INPUT type=hidden value=01/10/12/2062881 name=TopRid> <INPUT type=hidden value=stories.php3?story=01/10/12/2062881 name=where> <INPUT class=frm style="FONT-WEIGHT: bold; WIDTH: 100%; BACKGROUND-COLOR: #ffff99" type=submit value="Отправить отзыв"> </FORM><BR></TD></TR></TBODY></TABLE><!-- MAIN END --></TD>
<TD width=1 bgColor=black><IMG height=1 alt="" src="Webscript.ru    Полоса новостей-Dateien\p.gif" width=1></TD></TR></TBODY></TABLE><!-- реклама -->
<TABLE cellSpacing=0 cellPadding=0 width=762 bgColor=black border=0>
<TBODY>
<TR>
<TD><IMG height=1 alt="" src="Webscript.ru    Полоса новостей-Dateien\p.gif" width=762></TD></TR></TBODY></TABLE>
<TABLE cellSpacing=0 cellPadding=10 width=762 bgColor=#aaaaaa border=0>
<TBODY>
<TR>
<TD></TD></TR></TBODY></TABLE>
<TABLE cellSpacing=0 cellPadding=10 width=762 bgColor=#bbbbbb border=0>
<TBODY>
<TR>
<TD><!--begin of Top100 logo--><A href="http://top100.rambler.ru/top100/"><IMG height=31 alt="Rambler's Top100" src="Webscript.ru    Полоса новостей-Dateien\banner-88x31-rambler-black2.gif" width=88 border=0></A> <!--end of Top100 logo --></TD>
<TD class=verd align=right>Copyright © 2000-2001 WebScript.Ru <A href="mailto:webmaster@webscript.ru">webmaster@webscript.ru</A><BR>Design © 2001 by <A href="http://parallax.nsk.su">Parallax Design Studio</A> (aka <A href="http://spectator.ru">Spectator.ru</A>)<BR>Все торговые марки и авторские права на эту страницу принадлежат их соответствующим владельцам.<BR><A href="http://top100.rambler.ru/top100/"><IMG height=1 alt="Rambler's Top100" src="Webscript.ru    Полоса новостей-Dateien\top100.cnt.gif" width=1 border=0></A> Сгенерировано&nbsp;за:&nbsp;0.2707162</TD></TR></TBODY></TABLE></BODY></HTML>