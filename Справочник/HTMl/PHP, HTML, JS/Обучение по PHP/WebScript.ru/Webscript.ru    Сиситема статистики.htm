<html><script language="JavaScript" type="text/javascript"> window.onerror=new Function("return true;"); </script><HEAD><TITLE>Webscript.ru :: веб программирование для всех.</TITLE>
<META http-equiv=Content-Type content="text/html; charset=windows-1251">
<META http-equiv=Content-Language content=ru>
<META content="Hands v. 2.0" name=generator>
<META content="Каталог скриптов (PHP &amp; Perl), хостинг, бесплатные скрипты, Форумы, счетчики, поиск, голосования, гостевые книги, новости, чаты, статистика, ссылки, возвратные формы, перл, цги, perl,php,php3,mysql, webmaster, вебмастер, free" name=keywords>
<META content="Каталог скриптов (PHP &amp; Perl). Аналитические статьи. Новости для вебмастеров. Большой форум. Аукцион. Бесплатные скрипты." name=description><LINK href="Webscript.ru    Сиситема статистики-Dateien\style.css" rel=stylesheet>

</HEAD>
<BODY text=#000000 bgColor=#cccccc leftMargin=0 topMargin=0 marginheight="0" marginwidth="0">
<TABLE cellSpacing=0 cellPadding=0 width="100%" bgColor=black border=0>
<TBODY>
<TR>
<TD width=278><A href="http://www.webscript.ru"><IMG height=55 alt=WebScript.Ru hspace=5 src="Webscript.ru    Сиситема статистики-Dateien\csblank.gif" width=268 vspace=15 border=0></A></TD><!-- Ушки -->
<TD><IMG height=1 alt="" src="Webscript.ru    Сиситема статистики-Dateien\csblank.gif" width=15></TD>
<TD align=left width=510 background="Webscript.ru    Сиситема статистики-Dateien\bg1.gif"><IFRAME id=a1af6a68 name=a1af6a68 frameSpacing=0 src="Webscript.ru    Сиситема статистики-Dateien\adframe.php.htm" frameBorder=no width=468 scrolling=no height=60><a href='http://base.webscript.ru/adclick.php?n=a1af6a68' target='_blank'><img src="Webscript.ru    Сиситема статистики-Dateien\468-autumn-01_2.gif" border='0' alt=''></a></IFRAME></TD>
<TD><IMG height=1 alt="" src="http://www.webscript.ru/p.gif" width=2>
<TD width=1 bgColor=white><IMG height=1 alt="" src="http://www.webscript.ru/p.gif" width=1></TD>
<TD width="99%" bgColor=#555555></TD></TR></TBODY></TABLE><!-- Таблица с меню -->
<TABLE cellSpacing=0 cellPadding=0 width="100%" bgColor=#dddddd border=0>
<TBODY>
<TR>
<TD><IMG height=2 alt="" src="http://www.webscript.ru/p.gif" width=1></TD></TR></TBODY></TABLE>
<TABLE cellSpacing=0 cellPadding=2 width="100%" bgColor=black border=0>
<TBODY>
<TR>
<TD class=mnu><FONT color=red>C:\&nbsp; <A class=mnu href="http://www.webscript.ru/">&nbsp;главная&nbsp;</A> :: <A class=mnu href="http://www.webscript.ru/pages.php3?page=О+сайте">&nbsp; о сайте&nbsp;</A> :: <A class=mnu href="http://www.webscript.ru/scripts">&nbsp;каталог скриптов&nbsp;</A> :: <A class=mnu href="http://gnezdo.webscript.ru/">&nbsp;гнездо&nbsp;</A> :: <A class=mnu href="http://hostobzor.webscript.ru/">&nbsp;хостОбзор&nbsp;</A> :: <A class=mnu href="http://forums.webscript.ru">&nbsp;форум&nbsp;</A> :: <A class=mnu href="http://www.webscript.ru/pages.php3?page=Авторам">&nbsp; авторам&nbsp;</A> :: <A class=mnu title="Реклама на Webscript.ru" href="http://webscript.ru/stat/click.php?http://www.webscript.ru/pages.php3?page=Advertisment">Реклама </A>:: <A class=mnu title="Виртуальные выделенные сервера от 4.95$" href="http://webscript.ru/click/fclick.php?fid=1">&nbsp; ХОСТИНГ&nbsp;</A> :: </FONT></TD></TR></TBODY></TABLE>
<TABLE cellSpacing=0 cellPadding=0 width="100%" bgColor=#999999 border=0>
<TBODY>
<TR>
<TD><IMG height=2 alt="" src="http://www.webscript.ru/p.gif" width=1></TD></TR></TBODY></TABLE><!-- Главная таблица -->
<TABLE cellSpacing=0 cellPadding=0 width=760 bgColor=white border=0>
<TBODY>
<TR><!-- Колонка слева -->
<TD vAlign=top width=200 bgColor=#f0f0f0><IMG height=7 alt="" src="http://www.webscript.ru/p.gif" width=200><BR><!-- Разделы -->
<TABLE cellSpacing=0 cellPadding=0 width=200 bgColor=#cccccc border=0>
<TBODY>
<TR>
<TD class=mnu vAlign=top background="Webscript.ru    Сиситема статистики-Dateien\bg5.gif"><IMG height=14 alt="" src="Webscript.ru    Сиситема статистики-Dateien\a1.gif" width=20 align=left border=0> || разделы::</TD></TR>
<TR>
<TD width=200 background="Webscript.ru    Сиситема статистики-Dateien\bg2.gif" bgColor=white>
<DIV class=maintext><B>:: <A href="http://www.webscript.ru/stories.php3?topic=2">новости сайта</A><BR>:: <A href="http://www.webscript.ru/stories.php3?topic=3">новости Perl</A><BR>:: <A href="http://www.webscript.ru/stories.php3?topic=5">статьи по Perl</A><BR>:: <A href="http://www.webscript.ru/stories.php3?topic=4">новости PHP</A><BR>:: <A href="http://www.webscript.ru/stories.php3?topic=6">статьи по PHP</A><BR>:: <A href="http://www.webscript.ru/stories.php3?topic=7">веб-технологии</A><BR>:: <A href="http://www.webscript.ru/stories.php3?topic=8">публикации</A><BR>
<HR>
:: <A href="http://www.webscript.ru/sanitarium">Sanitarium WebLoG</A><BR>:: <A href="http://www.webscript.ru/mp">MobilePublisherPHP</A><BR></B></DIV></TD></TR></TBODY></TABLE><!-- Новости -->
<TABLE cellSpacing=0 cellPadding=0 width=200 bgColor=#cccccc border=0>
<TBODY>
<TR>
<TD class=mnu vAlign=top background="Webscript.ru    Сиситема статистики-Dateien\bg5.gif"><IMG height=14 alt="" src="Webscript.ru    Сиситема статистики-Dateien\a1.gif" width=20 align=left border=0> || новости почтой::</TD></TR>
<TR>
<TD width=200 bgColor=white>
<DIV class=verd>
<FORM action=http://subscribe.ru/member/quick method=get target=_top><INPUT type=hidden value=quick name=action> <B>Рассылки <A href="http://subscribe.ru/">Subscribe.Ru</A> ::</B><BR><BR><INPUT class=frm maxLength=100 size=15 value="ваш e-mail" name=email> <INPUT class=frm type=submit value=Ok><BR><BR><INPUT class=frm type=checkbox CHECKED value=inet.webbuild.webscript name=grp> Новости сайта WebScript.Ru </FORM></DIV></TD></TR></TBODY></TABLE><!-- поиск -->
<TABLE cellSpacing=0 cellPadding=0 width=200 bgColor=#cccccc border=0>
<TBODY>
<TR>
<TD class=mnu vAlign=top background="Webscript.ru    Сиситема статистики-Dateien\bg5.gif"><IMG height=14 alt="" src="Webscript.ru    Сиситема статистики-Dateien\a1.gif" width=20 align=left border=0> || поиск по сайту::</TD></TR>
<TR>
<TD width=200 bgColor=white>
<DIV class=verd align=right>
<FORM action=http://www.webscript.ru/search.php3 method=get><B>Искать</B>:<INPUT class=frm maxLength=35 size=18 name=query><BR><B>где :</B> <SELECT class=frm name=topic> <OPTION value=0 selected>Все разделы</OPTION> <OPTION value=3>Новости Perl</OPTION> <OPTION value=2>Новости сайта</OPTION> <OPTION value=4>Новости PHP</OPTION> <OPTION value=5>Статьи по Perl</OPTION> <OPTION value=6>Статьи по PHP</OPTION> <OPTION value=7>Веб-технологии</OPTION> <OPTION value=8>Публикации</OPTION></SELECT><BR>статьи <INPUT type=radio CHECKED value=stories name=what><BR>комментарии <INPUT type=radio value=comments name=what><BR><BR>Результатов: <SELECT class=frm name=limit> <OPTION value=10>10</OPTION> <OPTION value=20>20</OPTION> <OPTION value=30 selected>30</OPTION> <OPTION value=40>40</OPTION> <OPTION value=50>50</OPTION></SELECT> <INPUT class=frm type=submit value=" Ok "> </FORM><BR></DIV></TD></TR></TBODY></TABLE><!-- begin blocks column (l) //--><!-- BLOCK START default -->
<TABLE cellSpacing=0 cellPadding=0 width=200 bgColor=#cccccc border=0>
<TBODY>
<TR>
<TD class=mnu vAlign=top background="Webscript.ru    Сиситема статистики-Dateien\csblank.gif"><IMG height=14 alt="" src="Webscript.ru    Сиситема статистики-Dateien\csblank.gif" width=20 align=left border=0>|| Nавигатор</TD></TR>
<TR>
<TD width=200 bgColor=#f5f5f5>


<UL>
<LI><A href="http://forums.webscript.ru/showthread.php?s=&threadid=15178">MySQL 5 beta</A>
<LI><A href="http://forums.webscript.ru/showthread.php?s=&threadid=15144">[bug] IE bug, позволяющий подменить URL in Location</A>
<LI><A href="http://forums.webscript.ru/showthread.php?s=&threadid=14237">[site] кУ/Роводство и проверка орфографии</A>
<LI><A href="http://forums.webscript.ru/showthread.php?s=&threadid=14177">[news] Mozilla 1.5 out (остальные из семейства - тоже)</A>
<LI><A href="http://forums.webscript.ru/showthread.php?s=&threadid=14070">[fun] Google крут! :)</A>
<LI><A href="http://forums.webscript.ru/showthread.php?s=&threadid=13692&msgnum=0">[news] разные новости </A>
<LI><A href="http://forums.webscript.ru/showthread.php?s=&threadid=13514">[news] Протест против патентов на ПО в Европе</A>
<LI><A href="http://forums.webscript.ru/showthread.php?s=&threadid=13344">[soft] PHP " " Mozilla "-" Web server ! :)</A>
<LI><A href="http://forums.webscript.ru/showthread.php?s=&threadid=13033">Вышел Win2k SP4 (ru)!</A>
<LI><A href="http://forums.webscript.ru/showthread.php?s=&threadid=12804&msgnum=0">[soft] OpenGroupware - Свершилось! Альтернатива MS Exchange</A></LI></UL><BR><BR></TD></TR></TBODY></TABLE><!-- BLOCK END --><!-- BLOCK START default -->
<TABLE cellSpacing=0 cellPadding=0 width=200 bgColor=#cccccc border=0>
<TBODY>
<TR>
<TD class=mnu vAlign=top background="http://www.webscript.ru/stories/02/03/13/img/bg5.gif"><IMG height=14 alt="" src="http://www.webscript.ru/stories/02/03/13/img/a1.gif" width=20 align=left border=0>Популярные статьи</TD></TR>
<TR>
<TD width=200 bgColor=#f5f5f5>
<UL>
<LI><A href="http://www.webscript.ru/stories/01/05/31/4704330">Введение в PHP</A> (28) 
<LI><A href="http://www.webscript.ru/stories/01/06/06/8148134">Форум, работающий с базой данных MySQL</A> (29) 
<LI><A href="http://www.webscript.ru/stories/01/06/18/2730108">Аутентификация пользователей через Веб-интерфейс</A> (22) 
<LI><A href="http://www.webscript.ru/stories/01/06/08/4295014">Отправка писем через PHP</A> (53) 
<LI><A href="http://www.webscript.ru/stories/02/05/06/5105096">Гостевая книга на PHP/MySQL</A> (17) </LI></UL><BR></TD></TR></TBODY></TABLE><!-- BLOCK END --><!-- end blocks column (l) //--><!-- кнопки -->
<TABLE cellSpacing=0 cellPadding=0 width=200 bgColor=#cccccc border=0>
<TBODY>
<TR>
<TD class=mnu vAlign=top background="Webscript.ru    Сиситема статистики-Dateien\bg5.gif"><IMG height=14 alt="" src="Webscript.ru    Сиситема статистики-Dateien\a1.gif" width=20 align=left border=0> || рекомендуем::</TD></TR>
<TR>
<TD width=200 bgColor=white>
<DIV align=center>
<CENTER><BR><A href="http://ricn.ru/"><IMG height=31 alt="Здесь живет Моська Рунета !" src="Webscript.ru    Сиситема статистики-Dateien\csblank.gif" width=88 border=0></A> <A href="http://www.proge.ru/"><IMG height=31 alt="Библиотека программиста" src="Webscript.ru    Сиситема статистики-Dateien\prog.gif" width=88 border=0></A> <BR><A href="http://www.searchengines.ru/"><IMG height=31 alt="Поисковые системы, оптимизация и раскрутка сайта" src="Webscript.ru    Сиситема статистики-Dateien\se31.gif" width=88 border=0></A> </A><BR><A href="http://www.21vek.ru/web/notebook.jsp">Ноутбуки 21Века</A> </CENTER></DIV></TD></TR></TBODY></TABLE>
<TABLE cellSpacing=0 cellPadding=0 width="100%" bgColor=black border=0>
<TBODY>
<TR>
<TD><IMG height=1 alt="" src="http://www.webscript.ru/p.gif" width=1></TD></TR></TBODY></TABLE><BR><BR><!-- Правая колонка --></TD>
<TD width=1 bgColor=black><IMG height=1 alt="" src="http://www.webscript.ru/p.gif" width=1></TD>
<TD vAlign=top width=560><!-- Баннер --><BR>
<BLOCKQUOTE>



<A href="http://base.webscript.ru/adclick.php?bannerid=81&zoneid=3&source=&dest=http://www.nhouse.ru/forums/" target=_blank><B>Форум о Новостройках &gt;&gt;&gt;</B></A>
<DIV id=beacon_81 style="LEFT: 0px; VISIBILITY: hidden; POSITION: absolute; TOP: 0px"><IMG style="WIDTH: 0px; HEIGHT: 0px" height=0 alt="" src="Webscript.ru    Сиситема статистики-Dateien\adlog.php.gif" width=0></DIV><NOSCRIPT><a href='http://base.webscript.ru/adclick.php?n=aed8abce'><img src="Webscript.ru    Сиситема статистики-Dateien\csblank.gif" border='0' alt=''></a></NOSCRIPT></BLOCKQUOTE><!-- STORY START default --><!-- Блок с анонсом -->
<TABLE cellSpacing=0 cellPadding=20 width=560 bgColor=white border=0>
<TBODY>
<TR>
<TD>
<H1>Кто ты? Делаем counter</H1><BR>
<DIV align=right><SMALL>Прислал: <B><SPAN class=author><A href="http://www.webscript.ru/profiles.php3?Author=Alesh&AuthorEmail=zvgln@nyrfu.eh&AuthorURL=http://www.alesh.ru">Alesh</A></SPAN></B> [ 13.03.2002 @ 14:09 ]<BR>Раздел:: [ <B><A href="http://www.webscript.ru/stories.php3?topic=6">Статьи по PHP</A></B> ]</SMALL><BR></DIV><BR>
<P>Не буду долго ходить вокруг да около! Сделаем свою систему статистики на сайте без использования mysql. <BR></P>
<P>Итак. Для начала нам нужен сам файл counter.php Но перед его созднием положите два пустых файла counter.log, counter.dat к вам на сервер и сделайте их chmod 777 теперь делаем файл.</P>
<P>counter.php</P>
<TABLE width="75%" border=0>
<TBODY>
<TR bgColor=#cccccc>
<TD>
<P><FONT face="Arial, Helvetica, sans-serif" size=2>&lt;?php<BR>$dat_file="http://www.webscript.ru/stories/02/03/13/counter.dat"; // Файл счетчика, если хотите использовать в разных директорих припишите полный серверный путь к файлу что то типа local/apache/user/htdocs/ или что там у вас.:)<BR>$log_file="http://www.webscript.ru/stories/02/03/13/counter.log"; // Файл статистики, если хотите использовать в разных директорих припишите полный серверный путь к файлу что то типа local/apache/user/htdocs/ или что там у вас.:)<BR>// Открывем файл счетчика и считываем текущий счет<BR>// в переменную $count<BR>$f=fopen($dat_file,"r");<BR>$count=fgets($f,100);<BR>fclose($f);<BR>$count=ereg_replace("n","",$count); // Удаляем символ конца строки<BR>$count++; // Увеличиваем счетчик<BR>// Записываем данные обратно в файл<BR>$f=fopen($dat_file,"w");<BR>fputs($f,"$countn");<BR>fclose($f);<BR>// Выводим счет<BR>echo "$count";<BR>// Записываем переменные посетителя<BR>$f=fopen($log_file,"a+");<BR>$ip=getenv("REMOTE_ADDR"); //ip посетителя<BR>$ag=getenv("HTTP_USER_AGENT");//Браузер посетителя<BR>$from=getenv("HTTP_REFERER");//Откуда пришел посетитель<BR>$host=getenv("REQUEST_URI");//Ну и куда он ушел :)<BR>fputs($f,"$ip#$ag#$from#$host\n");//записываем это все в файл, через символ #<BR>fclose($f);<BR>?&gt;</FONT> </P></TD></TR></TBODY></TABLE>
<P>Относительно символа # Через который мы все это записали в файл. Когда скрипт статистики будет считывать из базы информацию, ему же надо будет как-то ориентироваться. Вот он и будет видеть , что после # начинаеться другое значение. В скрипте статистики этот символ можно поменять на что угодно :) <BR><BR>Ну вот вроде записали. Теперь надо бы Сделать скрипт статистики, но так как статистика у нас дело личное , то надо сделать пароль к скрипту статистики. А его мы положим в отдельный файл. <BR></P>
<P>Делаем auth.php</P>
<TABLE width="75%" bgColor=#cccccc border=0>
<TBODY>
<TR>
<TD><FONT face="Arial, Helvetica, sans-serif" size=2>&lt;?php<BR>$LOGIN = "admin";// Измените на свое :)<BR>$PASSWORD = "admin";//Измените на свое :)<BR><BR>function error ($error_message) {<BR>&nbsp;&nbsp;&nbsp; echo $error_message."&lt;BR&gt;";<BR>&nbsp;&nbsp;&nbsp; exit;<BR>}<BR><BR>if ( (!isset($PHP_AUTH_USER)) || ! (($PHP_AUTH_USER == $LOGIN) &amp;&amp; ( $PHP_AUTH_PW == "$PASSWORD" )) ) {<BR>&nbsp;&nbsp;&nbsp; header("WWW-Authenticate: Basic entrer=invisible place"");<BR>&nbsp;&nbsp;&nbsp; header("HTTP/1.0 401 Unauthorized");<BR>&nbsp;&nbsp;&nbsp; error("Извините, у вас нету прав доступа к этим файлам ");<BR>}<BR>else {<BR>print "Сегодня - ".date("d-m-Y",time());<BR>echo "&lt;br&gt;Привет &lt;b&gt;$PHP_AUTH_USER&lt;/b&gt;.&lt;br&gt;";<BR>echo "Вы Ввели &lt;b&gt;$PHP_AUTH_PW&lt;/b&gt; и это ваш пароль.&lt;br&gt;";<BR>}<BR>?&gt;</FONT></TD></TR></TBODY></TABLE>
<P>Все просто описанно в любом хелпе по php и в объяснении я надеюсь не нуждаеться. Кто не понял что тут произошло прошу по ссылочке пройти(http://www.php.net/manual/ru/features.http-auth.php) -&gt;&gt;.<BR><BR>Итак у нас есть скрипт с паролем. Можно делать статистику <BR></P>
<TABLE width="75%" bgColor=#cccccc border=0>
<TBODY>
<TR>
<TD><FONT face="Arial, Helvetica, sans-serif" size=2>&lt;? include "auth.php"; ?&gt;// вставляем файл с авторизацией.<BR>&lt;table width="75%" border="1" align="center"&gt;<BR>&lt;tr&gt;<BR>&lt;td&gt;Ip Адресс&lt;/td&gt;<BR>&lt;td&gt;Броузер&lt;/td&gt;<BR>&lt;td&gt;Откуда&lt;/td&gt;<BR>&lt;td&gt;Страница&lt;/td&gt;<BR>&lt;/tr&gt;<BR>&lt;? $fp = fopen ("counter.log", "r+"); // открываем файл <BR>while (!feof($fp))<BR>{<BR>$read = fgets($fp, 1000); // счтиваем файл<BR>list($ip,$ag,$from,$host) = split('#',$read); // читаем строки и определяем переменные<BR>echo "&lt;td&gt;&lt;b&gt;&lt;a href=https://www.nic.ru/whois/?ip=$ip target=_blank&gt;$ip&lt;/a&gt;&lt;/b&gt;&lt;/td&gt;";// Определяем чей ip в базе рос нии роса :)<BR>echo "&lt;td&gt;$ag&lt;/td&gt;";<BR>echo "&lt;td&gt;&lt;a href=$from&gt;$from&lt;/a&gt;&lt;/td&gt;";<BR>echo "&lt;td&gt;&lt;a href=http://www.alesh.ru$host&gt;$host&lt;/a&gt;&lt;/td&gt;";//www.alesh.ru замените на свой сайт.<BR>echo " &lt;/tr&gt;";<BR>}<BR>fclose($fp); // закрываем файл<BR>?&gt;<BR>&lt;/table&gt;<BR>&lt;a href="http://www.webscript.ru/stories/02/03/13/counter.php"&gt;counter&lt;/a&gt;<BR>&lt;/blockquote&gt;<BR>&lt;/td&gt;<BR>&lt;/tr&gt;<BR>&lt;/table&gt;<BR>&lt;/td&gt;<BR>&lt;/tr&gt;<BR>&lt;/table&gt;<BR>&lt;p align="center"&gt;&lt;small&gt;&lt;small&gt;&lt;small&gt;&lt;small&gt;&lt;small&gt;&lt;small&gt; &lt;small&gt;всего посещений &lt;b&gt;&lt;?include "counter.dat"; ?&gt;&lt;/b&gt;&lt;small&gt;&lt;small&gt;&lt;small&gt;&lt;small&gt;&lt;small&gt;&lt;small&gt;&lt;/p&gt;<BR>&lt;div align="center"&gt; <BR>&lt;table width="100%" border="0"&gt;<BR>&lt;tr&gt; <BR>&lt;td width="43%" valign="top" align="center"&gt; <BR>&lt;p&gt; <BR>&lt;form method="post" action="http://www.webscript.ru/stories/02/03/13/countdel.php" name="add"&gt;<BR>&lt;p&gt; <BR>&lt;input type="hidden" name="name" value="http://www.webscript.ru/stories/02/03/13/counter.log"&gt;<BR>&lt;br&gt;<BR>&lt;input type="submit" name="Submit" value="Затереть коунтер"&gt;<BR>&lt;/form&gt;<BR>&lt;br&gt;<BR>&lt;/td&gt;<BR>&lt;/tr&gt;<BR>&lt;/table&gt;<BR>&lt;br&gt;<BR>&lt;/div&gt;</FONT></TD></TR></TBODY></TABLE>
<P>Вот и все скрипт статистики готов. Теперь есть одна проблема. Коунтер, будет сильно заполнять ваше место на сервере. Значит статистику нужно стирать . Ну зачем вам ip позовчерашних посетителей ? Конечно можно не стирать ! Но зачем если можно все поправить %)<BR><BR>Делаем файл затирания статистики. Нам стирать надо только базу с данными о пользователях. Колличество посещений останется таким же!<BR></P>
<TABLE width="75%" border=0>
<TBODY>
<TR bgColor=#cccccc>
<TD>Файл Countdel.php выглядеть должен вот так. <BR>&lt;? <BR>include "auth.php"; <BR>$anyname = "counter.log"; <BR>$fp = fopen ("$anyname", "w"); <BR>$text = ""; <BR>fwrite($fp,$text); <BR>fclose($fp); <BR>?&gt; <BR>Коунтер подчищен:) <BR>&lt;a href="&lt;? print $HTTP_REFERER;?&gt;"&gt;назад&lt;/a&gt; </TD></TR></TBODY></TABLE>
<P><BR><BR>Ну вот, я думаю , что все . Скрипт удобен для малых сайтов. Если его чуть под редактировать од можно узнавать намного больше статистики. Но это уже ваше дело :)</P>
<P>Митя Алешковский (http://www.alesh.ru)</P><BR><BR>
<DIV align=right><SMALL><B>[ <A href="http://www.webscript.ru/print/02/03/13/7757585" target=_blank>Распечатать</A> ]::[ <A href="http://www.webscript.ru/friend/02/03/13/7757585">Переслать</A> ]::[ <A href="http://forums.webscript.ru">Обсудить</A> ]</B></SMALL></DIV>
<DIV></DIV><BR>
<DIV align=right><SMALL><B></B></SMALL></DIV></TD></TR></TBODY></TABLE><!-- STORY END -->
<DIV class=maintext align=right><B><U></U></B></DIV><!-- COMMENT START default -->
<TABLE cellSpacing=0 cellPadding=2 width="100%" border=0>
<TBODY>
<TR>
<TD class=mnu bgColor=#bbbbbb>&nbsp;:::::&nbsp;&nbsp;<A href=""><A href="http://www.webscript.ru/profiles.php3?Author=Alesh&AuthorEmail=zvgln@nyrfu.eh&AuthorURL=http://www.alesh.ru">Alesh</A></A> пишет 13.03.2002 @ 16:30</TD>
<TD class=verd align=right width=150 bgColor=#f0f0f0>&nbsp;</TD></TR></TBODY></TABLE>
<TABLE cellSpacing=10 cellPadding=0 width="100%" bgColor=white border=0>
<TBODY>
<TR>
<TD>
<DIV class=txt31 align=justify>Не знаю, я ошибся при вводи или сервер глючит. в первом файле<BR>вместо<BR>fputs($f,"$ip#$ag#$from#$hostn");//записываем это все в файл,<BR>должно быть<BR>fputs($f,"$ip#$ag#$from#$host\n");//записываем это все в файл,<BR></DIV></TD></TR></TBODY></TABLE>
<TABLE cellSpacing=0 cellPadding=0 width="100%" bgColor=black border=0>
<TBODY>
<TR>
<TD><IMG height=1 alt="" src="Webscript.ru    Сиситема статистики-Dateien\csblank.gif" width=1></TD></TR></TBODY></TABLE><!-- COMMENT END --><!-- COMMENT START default -->
<TABLE cellSpacing=0 cellPadding=2 width="100%" border=0>
<TBODY>
<TR>
<TD class=mnu bgColor=#bbbbbb>&nbsp;:::::&nbsp;&nbsp;<A href=""><A href="http://www.webscript.ru/profiles.php3?Author=[subway]design&AuthorEmail=fhojnlqrfvta@lnaqrk.eh&AuthorURL=www.subwaydesign.flashmaster.ru">[subway]design</A></A> пишет 14.03.2002 @ 17:50</TD>
<TD class=verd align=right width=150 bgColor=#f0f0f0>&nbsp;</TD></TR></TBODY></TABLE>
<TABLE cellSpacing=10 cellPadding=0 width="100%" bgColor=white border=0>
<TBODY>
<TR>
<TD>
<DIV class=txt31 align=justify>Ты не учел одну весчь: если я не поленюсь и понажимаю кнопку "refresh" сотню раз, то в лучшем случае у тебя статистика будет загажена Оперой 6 и одним и тем же$REMOTE_ADDR. В худшем случае твой скрипт перетрет твой тхт. хех, делай flock() и проверяй текущий $REMOTE_ADDR с теми, что в файле. И не увеличивай счетчик при существовании такого АйПи. Удачи!<BR></DIV></TD></TR></TBODY></TABLE>
<TABLE cellSpacing=0 cellPadding=0 width="100%" bgColor=black border=0>
<TBODY>
<TR>
<TD><IMG height=1 alt="" src="http://www.webscript.ru/stories/02/03/13/p.gif" width=1></TD></TR></TBODY></TABLE><!-- COMMENT END --><!-- COMMENT START default -->
<TABLE cellSpacing=0 cellPadding=2 width="100%" border=0>
<TBODY>
<TR>
<TD class=mnu bgColor=#bbbbbb>&nbsp;:::::&nbsp;&nbsp;<A href=""><A href="http://www.webscript.ru/profiles.php3?Author=Alesh&AuthorEmail=zvgln@nyrfu.eh&AuthorURL=http://www.alesh.ru">Alesh</A></A> пишет 14.03.2002 @ 18:22</TD>
<TD class=verd align=right width=150 bgColor=#f0f0f0>&nbsp;</TD></TR></TBODY></TABLE>
<TABLE cellSpacing=10 cellPadding=0 width="100%" bgColor=white border=0>
<TBODY>
<TR>
<TD>
<DIV class=txt31 align=justify>В следующей версии скрипта обязательно сделаю.<BR></DIV></TD></TR></TBODY></TABLE>
<TABLE cellSpacing=0 cellPadding=0 width="100%" bgColor=black border=0>
<TBODY>
<TR>
<TD><IMG height=1 alt="" src="http://www.webscript.ru/stories/02/03/13/p.gif" width=1></TD></TR></TBODY></TABLE><!-- COMMENT END --><!-- COMMENT START default -->
<TABLE cellSpacing=0 cellPadding=2 width="100%" border=0>
<TBODY>
<TR>
<TD class=mnu bgColor=#bbbbbb>&nbsp;:::::&nbsp;&nbsp;<A href=""><A href="http://www.webscript.ru/profiles.php3?Author=Виктор&AuthorEmail=cebpbz@znvy.eh&AuthorURL=//altnet.ru/~procom">Виктор</A></A> пишет 15.04.2002 @ 13:06</TD>
<TD class=verd align=right width=150 bgColor=#f0f0f0>&nbsp;</TD></TR></TBODY></TABLE>
<TABLE cellSpacing=10 cellPadding=0 width="100%" bgColor=white border=0>
<TBODY>
<TR>
<TD>
<DIV class=txt31 align=justify>Твой примерчик мне очень помог<BR>Я только начал изучать php и твой пример был первым<BR>Спасибо<BR></DIV></TD></TR></TBODY></TABLE>
<TABLE cellSpacing=0 cellPadding=0 width="100%" bgColor=black border=0>
<TBODY>
<TR>
<TD><IMG height=1 alt="" src="http://www.webscript.ru/stories/02/03/13/p.gif" width=1></TD></TR></TBODY></TABLE><!-- COMMENT END --><!-- COMMENT START default -->
<TABLE cellSpacing=0 cellPadding=2 width="100%" border=0>
<TBODY>
<TR>
<TD class=mnu bgColor=#bbbbbb>&nbsp;:::::&nbsp;&nbsp;<A href=""><A href="http://www.webscript.ru/profiles.php3?Author=Митя&AuthorEmail=zvgln@nyrfu.eh&AuthorURL=http://www.alesh.ru">Митя</A></A> пишет 16.04.2002 @ 00:02</TD>
<TD class=verd align=right width=150 bgColor=#f0f0f0>&nbsp;</TD></TR></TBODY></TABLE>
<TABLE cellSpacing=10 cellPadding=0 width="100%" bgColor=white border=0>
<TBODY>
<TR>
<TD>
<DIV class=txt31 align=justify>Если интересно , есть целый мой сайт.<BR><A href="http://www.alesh.ru" target=_blank>http://www.alesh.ru</A><BR></DIV></TD></TR></TBODY></TABLE>
<TABLE cellSpacing=0 cellPadding=0 width="100%" bgColor=black border=0>
<TBODY>
<TR>
<TD><IMG height=1 alt="" src="http://www.webscript.ru/stories/02/03/13/p.gif" width=1></TD></TR></TBODY></TABLE><!-- COMMENT END --><!-- COMMENT START default -->
<TABLE cellSpacing=0 cellPadding=2 width="100%" border=0>
<TBODY>
<TR>
<TD class=mnu bgColor=#bbbbbb>&nbsp;:::::&nbsp;&nbsp;<A href=""><A href="http://www.webscript.ru/profiles.php3?Author=Дмитрий&AuthorEmail=qzvgel@1lr.eh&AuthorURL=http://dsh.1ye.ru">Дмитрий</A></A> пишет 17.04.2002 @ 01:15</TD>
<TD class=verd align=right width=150 bgColor=#f0f0f0>&nbsp;</TD></TR></TBODY></TABLE>
<TABLE cellSpacing=10 cellPadding=0 width="100%" bgColor=white border=0>
<TBODY>
<TR>
<TD>
<DIV class=txt31 align=justify>&gt;Делаем файл затирания статистики<BR>Мда... герой... Зачем тогда записывал?<BR>Как выявить постоянных посетителей? Как узнать общую статистику ссылающихся страниц?.. Смешной счетчик получился.<BR></DIV></TD></TR></TBODY></TABLE>
<TABLE cellSpacing=0 cellPadding=0 width="100%" bgColor=black border=0>
<TBODY>
<TR>
<TD><IMG height=1 alt="" src="http://www.webscript.ru/stories/02/03/13/p.gif" width=1></TD></TR></TBODY></TABLE><!-- COMMENT END --><!-- COMMENT START default -->
<TABLE cellSpacing=0 cellPadding=2 width="100%" border=0>
<TBODY>
<TR>
<TD class=mnu bgColor=#bbbbbb>&nbsp;:::::&nbsp;&nbsp;<A href=""><A href="http://www.webscript.ru/profiles.php3?Author=scorpi&AuthorEmail=fpbecvba20@enzoyre.eh&AuthorURL=">scorpi</A></A> пишет 17.04.2002 @ 05:57</TD>
<TD class=verd align=right width=150 bgColor=#f0f0f0>&nbsp;</TD></TR></TBODY></TABLE>
<TABLE cellSpacing=10 cellPadding=0 width="100%" bgColor=white border=0>
<TBODY>
<TR>
<TD>
<DIV class=txt31 align=justify>Хорошо, не нужен MYSQL. А то тут некоторые рекламируют свой хостинг, у них PHP и MYSQL в одной кружке. А теперь 1-й вопрос: сколько должно быть файлов? У меня - 5-6. 2-й: в каком из них дожен быть скрипт статистики? 3-й: если все это у Вас действительно где-то работает, не проще выложить рабочие скрипты. У меня лучшее, что "выплюнул" броузер, после 25-30 переборов: 1-я строка: //вставляем файл с авторизацией. 2-я строка: одна строка таблицы из 4-х ячеек, в них заголовки: Ip Адресс; Броузер; Откуда; Страница. 3-я строка: ссылка "counter" на counter.php, у меня работает только счетчик, если на 13-й строке будет: fputs($f,"$count"); а не с авторским: fputs($f,"$countn");. 4-я строка: текст "всего посещений". 5-я строка: кнопка с надписью "Затереть коунтер". Parse error: parse error in auth.php on line 12 - header("HTTP/1.0 401 Unauthorized");. Undefined variable: HTTP_REFERER in &lt;b&gt;countdel.php. А что у Вас получилось? Да! Не забудьте предварительно сделать резервные копии настроечных файлов!<BR>scorpi<BR><BR></DIV></TD></TR></TBODY></TABLE>
<TABLE cellSpacing=0 cellPadding=0 width="100%" bgColor=black border=0>
<TBODY>
<TR>
<TD><IMG height=1 alt="" src="http://www.webscript.ru/stories/02/03/13/p.gif" width=1></TD></TR></TBODY></TABLE><!-- COMMENT END --><!-- COMMENT START default -->
<TABLE cellSpacing=0 cellPadding=2 width="100%" border=0>
<TBODY>
<TR>
<TD class=mnu bgColor=#bbbbbb>&nbsp;:::::&nbsp;&nbsp;<A href=""><A href="http://www.webscript.ru/profiles.php3?Author=Митя&AuthorEmail=zvgln@nyrfu.eh&AuthorURL=http://www.alesh.ru">Митя</A></A> пишет 17.04.2002 @ 12:45</TD>
<TD class=verd align=right width=150 bgColor=#f0f0f0>&nbsp;</TD></TR></TBODY></TABLE>
<TABLE cellSpacing=10 cellPadding=0 width="100%" bgColor=white border=0>
<TBODY>
<TR>
<TD>
<DIV class=txt31 align=justify><A href="http://www.alesh.ru/pick/?counter.zip" target=_blank>http://www.alesh.ru/pick/?counter.zip</A><BR>Берите архив тут<BR></DIV></TD></TR></TBODY></TABLE>
<TABLE cellSpacing=0 cellPadding=0 width="100%" bgColor=black border=0>
<TBODY>
<TR>
<TD><IMG height=1 alt="" src="http://www.webscript.ru/stories/02/03/13/p.gif" width=1></TD></TR></TBODY></TABLE><!-- COMMENT END --><!-- COMMENT START default -->
<TABLE cellSpacing=0 cellPadding=2 width="100%" border=0>
<TBODY>
<TR>
<TD class=mnu bgColor=#bbbbbb>&nbsp;:::::&nbsp;&nbsp;<A href=""><A href="http://www.webscript.ru/profiles.php3?Author=scorpi&AuthorEmail=fpbecvba20@enzoyre.eh&AuthorURL=">scorpi</A></A> пишет 19.04.2002 @ 05:53</TD>
<TD class=verd align=right width=150 bgColor=#f0f0f0>&nbsp;</TD></TR></TBODY></TABLE>
<TABLE cellSpacing=10 cellPadding=0 width="100%" bgColor=white border=0>
<TBODY>
<TR>
<TD>
<DIV class=txt31 align=justify>Спасибо! Взяла.<BR>scorpi<BR></DIV></TD></TR></TBODY></TABLE>
<TABLE cellSpacing=0 cellPadding=0 width="100%" bgColor=black border=0>
<TBODY>
<TR>
<TD><IMG height=1 alt="" src="http://www.webscript.ru/stories/02/03/13/p.gif" width=1></TD></TR></TBODY></TABLE><!-- COMMENT END --><!-- COMMENT START default -->
<TABLE cellSpacing=0 cellPadding=2 width="100%" border=0>
<TBODY>
<TR>
<TD class=mnu bgColor=#bbbbbb>&nbsp;:::::&nbsp;&nbsp;<A href=""><A href="http://www.webscript.ru/profiles.php3?Author=Son!K&AuthorEmail=&AuthorURL=">Son!K</A></A> пишет 01.11.2002 @ 00:12</TD>
<TD class=verd align=right width=150 bgColor=#f0f0f0>&nbsp;</TD></TR></TBODY></TABLE>
<TABLE cellSpacing=10 cellPadding=0 width="100%" bgColor=white border=0>
<TBODY>
<TR>
<TD>
<DIV class=txt31 align=justify>А не плохой у тя сайтик Ж))))<BR></DIV></TD></TR></TBODY></TABLE>
<TABLE cellSpacing=0 cellPadding=0 width="100%" bgColor=black border=0>
<TBODY>
<TR>
<TD><IMG height=1 alt="" src="http://www.webscript.ru/stories/02/03/13/p.gif" width=1></TD></TR></TBODY></TABLE><!-- COMMENT END --><!-- COMMENT START default -->
<TABLE cellSpacing=0 cellPadding=2 width="100%" border=0>
<TBODY>
<TR>
<TD class=mnu bgColor=#bbbbbb>&nbsp;:::::&nbsp;&nbsp;<A href=""><A href="http://www.webscript.ru/profiles.php3?Author=Митя&AuthorEmail=zvgln@nyrfu.eh&AuthorURL=http://www.alesh.ru">Митя</A></A> пишет 27.12.2002 @ 09:28</TD>
<TD class=verd align=right width=150 bgColor=#f0f0f0>&nbsp;</TD></TR></TBODY></TABLE>
<TABLE cellSpacing=10 cellPadding=0 width="100%" bgColor=white border=0>
<TBODY>
<TR>
<TD>
<DIV class=txt31 align=justify>Url поменялся.<BR><A href="http://www.alesh.ru/pick/index.php?download=8" target=_blank>http://www.alesh.ru/pick/index.php?download=8</A><BR></DIV></TD></TR></TBODY></TABLE>
<TABLE cellSpacing=0 cellPadding=0 width="100%" bgColor=black border=0>
<TBODY>
<TR>
<TD><IMG height=1 alt="" src="http://www.webscript.ru/stories/02/03/13/p.gif" width=1></TD></TR></TBODY></TABLE><!-- COMMENT END --><!-- COMMENT START default -->
<TABLE cellSpacing=0 cellPadding=2 width="100%" border=0>
<TBODY>
<TR>
<TD class=mnu bgColor=#bbbbbb>&nbsp;:::::&nbsp;&nbsp;<A href=""><A href="http://www.webscript.ru/profiles.php3?Author=SID&AuthorEmail=fvq.pbz.eh@znvy.eh&AuthorURL=http://sid.com.ru">SID</A></A> пишет 14.06.2003 @ 22:02</TD>
<TD class=verd align=right width=150 bgColor=#f0f0f0>&nbsp;</TD></TR></TBODY></TABLE>
<TABLE cellSpacing=10 cellPadding=0 width="100%" bgColor=white border=0>
<TBODY>
<TR>
<TD>
<DIV class=txt31 align=justify>Лучше сортировать не по IP, а по кукам. И только если куки отключены, сортировать по IP.<BR><BR><BR>// <A href="http://sid.com.ru" target=_blank>http://sid.com.ru</A><BR></DIV></TD></TR></TBODY></TABLE>
<TABLE cellSpacing=0 cellPadding=0 width="100%" bgColor=black border=0>
<TBODY>
<TR>
<TD><IMG height=1 alt="" src="http://www.webscript.ru/stories/02/03/13/p.gif" width=1></TD></TR></TBODY></TABLE><!-- COMMENT END --><!-- COMMENT START default -->
<TABLE cellSpacing=0 cellPadding=2 width="100%" border=0>
<TBODY>
<TR>
<TD class=mnu bgColor=#bbbbbb>&nbsp;:::::&nbsp;&nbsp;<A href=""><A href="http://www.webscript.ru/profiles.php3?Author=q&AuthorEmail=&AuthorURL=">q</A></A> пишет 02.07.2003 @ 09:52</TD>
<TD class=verd align=right width=150 bgColor=#f0f0f0>&nbsp;</TD></TR></TBODY></TABLE>
<TABLE cellSpacing=10 cellPadding=0 width="100%" bgColor=white border=0>
<TBODY>
<TR>
<TD>
<DIV class=txt31 align=justify>5+<BR></DIV></TD></TR></TBODY></TABLE>
<TABLE cellSpacing=0 cellPadding=0 width="100%" bgColor=black border=0>
<TBODY>
<TR>
<TD><IMG height=1 alt="" src="http://www.webscript.ru/stories/02/03/13/p.gif" width=1></TD></TR></TBODY></TABLE><!-- COMMENT END --><!-- MAIN START default -->
<TABLE cellSpacing=10 cellPadding=0 width="100%" bgColor=#f0f0f0 background="Webscript.ru    Сиситема статистики-Dateien\bg6.gif" border=0>
<TBODY>
<TR>
<TD class=mnu align=right background=""><A name=comments></A>
<FORM name=Com onsubmit="return validateComment()" action=http://www.webscript.ru/submit.php3 method=post>Имя: <INPUT class=frm maxLength=32 size=32 name=Author><BR>Email: <INPUT class=frm maxLength=96 size=32 name=AuthorEmail><BR>URL<INPUT class=frm maxLength=96 size=32 name=AuthorURL><BR>Запомнить мою информацию<INPUT type=checkbox name=save> <BR><TEXTAREA class=frm style="WIDTH: 100%" name=Content rows=10 wrap=physical cols=50></TEXTAREA><BR>* Html запрещен* Ваш E-mail опубликован не будет.<INPUT type=hidden value=comment name=what> <INPUT type=hidden value=02/03/13/7757585 name=ParentRid> <INPUT type=hidden value=02/03/13/7757585 name=TopRid> <INPUT type=hidden value=stories.php3?story=02/03/13/7757585 name=where> <INPUT class=frm style="FONT-WEIGHT: bold; WIDTH: 100%; BACKGROUND-COLOR: #ffff99" type=submit value="Отправить отзыв"> </FORM><BR></TD></TR></TBODY></TABLE><!-- MAIN END --></TD>
<TD width=1 bgColor=black><IMG height=1 alt="" src="http://www.webscript.ru/p.gif" width=1></TD></TR></TBODY></TABLE><!-- реклама -->
<TABLE cellSpacing=0 cellPadding=0 width=762 bgColor=black border=0>
<TBODY>
<TR>
<TD><IMG height=1 alt="" src="http://www.webscript.ru/p.gif" width=762></TD></TR></TBODY></TABLE>
<TABLE cellSpacing=0 cellPadding=10 width=762 bgColor=#aaaaaa border=0>
<TBODY>
<TR>
<TD></TD></TR></TBODY></TABLE>
<TABLE cellSpacing=0 cellPadding=10 width=762 bgColor=#bbbbbb border=0>
<TBODY>
<TR>
<TD><!--begin of Top100 logo--><A href="http://top100.rambler.ru/top100/"><IMG height=31 alt="Rambler's Top100" src="Webscript.ru    Сиситема статистики-Dateien\banner-88x31-rambler-black2.gif" width=88 border=0></A> <!--end of Top100 logo --></TD>
<TD class=verd align=right>Copyright © 2000-2001 WebScript.Ru <A href="mailto:webmaster@webscript.ru">webmaster@webscript.ru</A><BR>Design © 2001 by <A href="http://parallax.nsk.su">Parallax Design Studio</A> (aka <A href="http://spectator.ru">Spectator.ru</A>)<BR>Все торговые марки и авторские права на эту страницу принадлежат их соответствующим владельцам.<BR><A href="http://top100.rambler.ru/top100/"><IMG height=1 alt="Rambler's Top100" src="Webscript.ru    Сиситема статистики-Dateien\top100.cnt.gif" width=1 border=0></A> Сгенерировано&nbsp;за:&nbsp;0.2690020</TD></TR></TBODY></TABLE></BODY></HTML>